<app-header></app-header>
<div class="dashboard-container">
  <app-sidebar></app-sidebar>

  <div class="main-content">
    <h2>Histórico de Empréstimos</h2>

    <ng-container *ngIf="estantes.length > 0; else nenhumHistorico">
      <div class="bookshelf-container">
        <div class="shelf-section" *ngFor="let shelf of estantes">
          <div class="book-row">
            <div class="book" *ngFor="let livro of shelf.books">
              <img
                [src]="livro.capa || 'https://via.placeholder.com/120x180?text=Sem+Capa'"
                [alt]="livro.titulo"
              />
              <div class="book-info">
                <h4>{{ livro.titulo }}</h4>
              </div>
            </div>

            <div
              class="book empty"
              *ngFor="let _ of getEmptySlots(shelf.books.length)"
            ></div>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-template #nenhumHistorico>
      <p>Nenhum histórico encontrado.</p>
    </ng-template>
  </div>
</div>
